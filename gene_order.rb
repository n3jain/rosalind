def fact(n)
  return 1 if n < 2
  n * fact(n-1)
end

def permutations(array)

  #array_n.permutation(n).to_a
  return array if array.length == 1

  perm = array.inject([]) do |perm, a|
    perm << [a] + permutations(array - [a])
  end
  #[1, [2, [3, 4], [4, 3]], [3, [2, 4], [4, 2]], [4, [2, 3], [3, 2]]]
  #[2, [1, [3, 4], [4, 3]], [3, [1, 4], [4, 1]], [4, [1, 3], [3, 1]]]
  #[3, [1, [2, 4], [4, 2]], [2, [1, 4], [4, 1]], [4, [1, 2], [2, 1]]]
  #[4, [1, [2, 3], [3, 2]], [2, [1, 3], [3, 1]], [3, [1, 2], [2, 1]]]
  #5
  #[1, [2, [3, [4, 5], [5, 4]], [4, [3, 5], [5, 3]], [5, [3, 4], [4, 3]]], [3, [2, [4, 5], [5, 4]], [4, [2, 5], [5, 2]], [5, [2, 4], [4, 2]]], [4, [2, [3, 5], [5, 3]], [3, [2, 5], [5, 2]], [5, [2, 3], [3, 2]]], [5, [2, [3, 4], [4, 3]], [3, [2, 4], [4, 2]], [4, [2, 3], [3, 2]]]]
  #[2, [1, [3, [4, 5], [5, 4]], [4, [3, 5], [5, 3]], [5, [3, 4], [4, 3]]], [3, [1, [4, 5], [5, 4]], [4, [1, 5], [5, 1]], [5, [1, 4], [4, 1]]], [4, [1, [3, 5], [5, 3]], [3, [1, 5], [5, 1]], [5, [1, 3], [3, 1]]], [5, [1, [3, 4], [4, 3]], [3, [1, 4], [4, 1]], [4, [1, 3], [3, 1]]]]
  #[3, [1, [2, [4, 5], [5, 4]], [4, [2, 5], [5, 2]], [5, [2, 4], [4, 2]]], [2, [1, [4, 5], [5, 4]], [4, [1, 5], [5, 1]], [5, [1, 4], [4, 1]]], [4, [1, [2, 5], [5, 2]], [2, [1, 5], [5, 1]], [5, [1, 2], [2, 1]]], [5, [1, [2, 4], [4, 2]], [2, [1, 4], [4, 1]], [4, [1, 2], [2, 1]]]]
  #[4, [1, [2, [3, 5], [5, 3]], [3, [2, 5], [5, 2]], [5, [2, 3], [3, 2]]], [2, [1, [3, 5], [5, 3]], [3, [1, 5], [5, 1]], [5, [1, 3], [3, 1]]], [3, [1, [2, 5], [5, 2]], [2, [1, 5], [5, 1]], [5, [1, 2], [2, 1]]], [5, [1, [2, 3], [3, 2]], [2, [1, 3], [3, 1]], [3, [1, 2], [2, 1]]]]
  #[5, [1, [2, [3, 4], [4, 3]], [3, [2, 4], [4, 2]], [4, [2, 3], [3, 2]]], [2, [1, [3, 4], [4, 3]], [3, [1, 4], [4, 1]], [4, [1, 3], [3, 1]]], [3, [1, [2, 4], [4, 2]], [2, [1, 4], [4, 1]], [4, [1, 2], [2, 1]]], [4, [1, [2, 3], [3, 2]], [2, [1, 3], [3, 1]], [3, [1, 2], [2, 1]]]]
end

n = File.read('rosalind_perm.txt').chomp.to_i
array_n = Array.new(n) { 0 }
n.times { |i| array_n[i] = i+1 }
p array_n

permutations = array_n.permutation.to_a #permutations(array_n)

  for perm in permutations
    p perm
  end
p permutations.length
for p in permutations
  puts p.join(' ')
end
